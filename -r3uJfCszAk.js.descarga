if (self.CavalryLogger) { CavalryLogger.start_js(["gBzHu"]); }

__d("ChatProxyConnectionState",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.auxiliaryIrisQueues={};this.aiq=null}h.prototype.subscribeIrisQueue=function(i,j){this.auxiliaryIrisQueues[i]=j;this.updateCaches()};h.prototype.unsubscribeIrisQueue=function(i){delete this.auxiliaryIrisQueues[i];this.updateCaches()};h.prototype.updateCaches=function(){var i=[];for(var j in this.auxiliaryIrisQueues)if(Object.prototype.hasOwnProperty.call(this.auxiliaryIrisQueues,j)){i.push(j);i.push(this.auxiliaryIrisQueues[j])}if(i.length===0)this.aiq=null;else this.aiq=i.join(",")};f.exports=h}),null);
__d("ChannelDefaults",[],(function a(b,c,d,e,f,g){f.exports={LONGPOLL_TIMEOUT:6e4,STALL_THRESHOLD:18e4,MIN_RETRY_INTERVAL:5e3,MAX_RETRY_INTERVAL:3e4}}),null);
__d("ChannelStateMap",[],(function a(b,c,d,e,f,g){f.exports={pull:{ok:"pull!",error:"pull",error_missing:"pull",error_msg_type:"pull",clock_anomaly:"pull!",visible:"pull!",hidden:"idle!",refresh_0:"reconnect",refresh_110:"reconnect!",refresh_111:"reconnect",refresh_112:"pull",refresh_113:"pull",refresh_117:"reconnect"},reconnect:{ok:"pull!",error:"reconnect",clock_anomaly:"reconnect!",visible:"pull!",hidden:"idle!"},idle:{ok:"idle!",clock_anomaly:"idle!",visible:"pull!",hidden:"idle!"},shutdown:{clock_anomaly:"shutdown!",visible:"shutdown!",hidden:"shutdown!"}}}),null);
__d("RTISession",["getCrossOriginTransport","URI","XHRRequest","invariant","ErrorUtils","PHPQuerySerializer"],(function a(b,c,d,e,f,g,h,i,j,k,l,m){"use strict";__p&&__p();var n=".facebook.com";function o(p,q,r,s,t,u,v,w,x){__p&&__p();p||k(0);s||k(0);t||k(0);this.domain=p;this.port=q;this.edgePoolName=r;this.stickyToken=s;this.loggedInId=t;this.accountId=u;this.clientProfile=v||"desktop";this.clientId=w;this.capabilities=x}o.prototype.issueRequest=function(p,q,r,s,t){__p&&__p();p||k(0);q||k(0);s||k(0);var u=this.domain.length-n.length,v=u>0&&this.domain.indexOf(n,u)!==-1,w=v?this.domain:this.domain+n,x=(1048576*Math.random()|0).toString(36),y={cb:x,sticky_token:this.stickyToken,uid:this.loggedInId,viewer_uid:this.accountId,sticky_pool:this.edgePoolName,profile:this.clientProfile,clientid:this.clientId,cap:this.capabilities};for(var z in y)!q[z]||k(0);Object.assign(y,q);var A=new i(p).setDomain(w).setPort(this.port).setSecure(new i(window.location.href).isSecure()).setQueryData(y),B=r?"POST":"GET",C={};new j(A).setTransportBuilder(h.withCredentials).setTimeout(t?t*1e3:3e4).setMethod(B).setDataSerializer(function(D){return m.serialize(JSON.stringify(D))}).setData(r).setRequestHeader("Content-Type","application/x-www-form-urlencoded").setResponseHandler(function(D){var E=D.substring("for (;;);".length);C.data=JSON.parse(E);C.error=null;l.applyWithGuard(s,this,[C])}.bind(this)).setErrorHandler(function(D){C.data=null;C.error=D.errorMsg||"error";l.applyWithGuard(s,this,[C])}.bind(this)).send()};f.exports=o}),null);
__d("StateMachine",["setTimeoutAcrossTransitions","EventEmitter","ex"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m=0;function n(q,r){"use strict";this.idx=m++;this.machine=q;this.asap=r&&r.substr(-1)=="!";this.name=this.asap?r.substr(0,r.length-1):r;this.progress=p.NEW;this.status=null}n.prototype.enter=function(){"use strict";this.machine.enter_private(this)};n.prototype.exit=function(q){"use strict";this.machine.exit_private(this,q)};n.prototype.toString=function(){"use strict";return this.name+"("+this.progress+","+this.status+")"};var o="_ABORT_";k=babelHelpers.inherits(p,i);l=k&&k.prototype;function p(q,r){"use strict";l.constructor.call(this);this.$StateMachine1=q;this.$StateMachine2=r;this.$StateMachine3=0;this.$StateMachine4=[];this.$StateMachine5=Date.now()}p.prototype.$StateMachine6=function(q){"use strict";this.$StateMachine4.push(Date.now()-this.$StateMachine5+": "+q);if(this.$StateMachine4.length>40)this.$StateMachine4=this.$StateMachine4.splice(-20)};p.prototype.getState=function(){"use strict";return this.$StateMachine7};p.prototype.setDelay=function(q){"use strict";this.$StateMachine3=q||0;return this};p.prototype.getDelay=function(){"use strict";return this.$StateMachine3};p.prototype.enter=function(q){"use strict";this.enter_private(new n(this,q))};p.prototype.enter_private=function(q){"use strict";__p&&__p();this.$StateMachine6("enter "+q+", "+this.$StateMachine7);if(this.$StateMachine7&&this.$StateMachine7!=q)this.$StateMachine7.exit(o);this.$StateMachine7=q;if(q.asap){delete q.asap;if(this.$StateMachine2.enter)this.$StateMachine2.enter(q);q.progress=p.ENTERED}else{q.progress=p.PENDING;q.asap=true;q.$StateMachine8=h(function(){q.enter()},this.$StateMachine3)}this.emit(p.ENTER,q)};p.prototype.exit=function(q){"use strict";this.exit_private(this.$StateMachine7,q)};p.prototype.exit_private=function(q,r){"use strict";__p&&__p();this.$StateMachine6("exit "+q+", "+r+", "+this.$StateMachine7);if(!q||q!=this.$StateMachine7)throw new Error(j("Invalid state: %s, history: %s",q,this.$StateMachine4.join("|")));if(q.progress==p.EXITED)return;q.status=r;q.progress=p.EXITED;if(q.$StateMachine8){clearInterval(q.$StateMachine8);q.$StateMachine8=null}this.$StateMachine7=null;if(q&&this.$StateMachine2.exit)this.$StateMachine2.exit(q);q.exited=true;this.emit(p.EXIT,q);if(r!=o){var s=this.$StateMachine1[q.name];if(!s||!s[r])throw new Error(j("No exit for state:%s, status: %s",q.name,r));this.enter(s[r])}};p.ENTER="enter";p.EXIT="exit";p.NEW="new";p.PENDING="pending";p.ENTERED="entered";p.EXITED="exited";f.exports=p}),null);
__d("rand32",[],(function a(b,c,d,e,f,g){function h(){return Math.floor(Math.random()*4294967295)}f.exports=h}),null);
__d("MChannelManager",["Banzai","ChannelClientConfig","ChannelClientID","ChannelDefaults","ChannelEventEmitter","ChannelEventType","ChannelStateMap","ChatProxyConnectionState","Clock","LogHistory","FBLogger","MRequest","MURI","RTISession","StateMachine","URI","Visibility","gkx","rand32","setTimeoutAcrossTransitions"],(function aa(a,ba,ca,da,b,ea,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){__p&&__p();var w,x="ok",y="error",fa="error_missing",z=6e4,A=null,B=null,C=null,D=null,E=null,F=-1,G=null,H=0,I=e.getID(),J=false,K={enter:function U(V){__p&&__p();if(D){D.abort();D=null}switch(V.name){case"pull":if(!B.uri)break;if(B.disabled)break;var W=new r(B.uri),X={channel:B.user_channel,seq:C,clientid:I,profile:"mobile",partition:B.partition,sticky_token:F,msgs_recv:H,qp:"y",cb:u()};if(F==-1&&B.msgr_region)X.msgr_region=B.msgr_region;if(B.chat_enabled)X.state="active";if(G)X.sticky_pool=G;if(B.uid&&B.viewerUid){X.uid=B.uid;X.viewer_uid=B.viewerUid}if(B.state.aiq)X.aiq=B.state.aiq;D=new n(W+"").setCORS(true).setMethod("GET").setData(X).setRaw(true);D.listen("open",function(Z){Z.getTransport().withCredentials=true});D.listen("done",function(Z){P(V,Z)});D.listen("error",function(){P(V)});break;case"reconnect":var Y=new o("/a/channel/reconnect.php");D=new n(Y+"").setMethod("GET");D.listen("done",function(Z){N(V,Z)});D.listen("error",function(Z){Z.isHandled=true;N(V)});break;default:}if(D)D.send()},exit:function U(V){__p&&__p();if(V.status==="ok"){if(V.name==="pull")w.setDelay(0)}else if(!(V.status==null)){var W=w.getDelay();W=W>0?W*2:A.MIN_RETRY_INTERVAL;W=Math.min(W,A.MAX_RETRY_INTERVAL);w.setDelay(W)}if(D){D.abort();D=null}}};function L(){var U=null;if(J&&B&&B.host&&F&&B.uid)U=new p(B.host,null,G,F,B.uid,B.viewerUid,"mobile",I,0);g.emit(h.RTI_SESSION,U)}function M(U){E=U}function N(U,V){__p&&__p();if(!V){m("FIXME").warn("_onReconnectError: reconnect request error");U.exit(y)}else if(V.user_channel){B=V;B.state=new j();C=B.seq;U.exit(x)}else{m("FIXME").warn("_onReconnectError: bad reconnect response - %s",JSON.stringify(V));U.exit(y)}}function O(){J=true;L()}function P(U,V){__p&&__p();var W=x;if(!V){U.exit(y);return}switch(V.t){case"refresh":case"refreshDelay":W="refresh_"+(V.reason||0);break;case"fullReload":W=x;if(V.seq==0)O();if("ms"in V)Q(V);break;case"continue":break;case"lb":var X=V.lb_info;if(X){F=X.sticky;var Y="http://";if(B.is_secure_uri)Y="https://";if("pool"in X)G=X.pool;else{B.uri=Y+X.vip+".facebook.com/pull";B.host=X.vip}}else m("FIXME").mustfix("bad lb info from channel proxy");break;case"msg":Q(V);break;case"batched":var Z=V.batches,$;for($=0;$<Z.length;$++)P(U,Z[$]);break;case"heartbeat":break;default:W=y;if(c.isEnabled("mchannel_detailed_log"))m("FIXME").warn("_onRequestSuccess: invalid channel response, resending request: %s",JSON.stringify(V));else m("FIXME").warn("_onRequestSuccess: invalid channel response, sending request again.");break}if("seq"in V)C=V.seq;U.exit(W)}function Q(U){__p&&__p();var V=U.seq-U.ms.length;for(var W=0;W<U.ms.length;W++){var X=V+W;H++;if(X>=C){if(E)U.ms[W]=E(U.ms[W]);try{if(U.ms[W].type==="skywalker")g.emit(h.SKYWALKER_MESSAGE,U.ms[W]);else if(U.ms[W].type==="qprimer")O();else if(U.ms[W].type==="privacy_changed"){if(t("AT676eqa9o_v7kGGM53Nfaq6v7ZzAZW1E6NXkuIXW-8sM0N4DkZ16pxYoDT5UIQfy6xorIGXMlqtYgTSAc6F7oiK")){var Y=U.ms[W].data;if(Y.visiblity!==undefined&&Y.visibility!==null)B.chat_enabled=Y.visibility}}else w.emit(w.CHANNEL_MESSAGE,U.ms[W])}catch(Z){if(c.isEnabled("mchannel_detailed_log"))m("FIXME").warn("_processMessages: threw exception emitting: ex:%s payload:%s",Z,JSON.stringify(U.ms[W]));else m("FIXME").warn("_processMessages: failed to emit message")}}}}function ga(){__p&&__p();if(!w.xhrEnabled||A)return;A=Object.assign(f,d.config);B=d.info;B.state=new j();C=B.seq;k.addListener(k.ANOMALY,function(){w.exit("clock_anomaly")});s.addListener(s.HIDDEN,function(){w.exit("hidden")});s.addListener(s.VISIBLE,function(){w.exit("visible")});a.onbeforeunload=function(){if(D)D.abort()};if("sticky_token"in B)F=B.sticky_token;R()}function ha(U,V){B.state.subscribeIrisQueue(U,V)}function ia(U){B.state.subscribeIrisQueue(U)}function R(){w.setDelay(A.MIN_RETRY_INTERVAL);w.enter(B.uri?"pull!":"reconnect!")}w=new q(i,K);w.startChannel=ga;w.setTransform=M;w.xhrEnabled=!!a.XMLHttpRequest;w.CHANNEL_MESSAGE="channel_message";w.subscribeIrisQueue=ha;w.unsubscribeIrisQueue=ia;var S;function ja(){w.emit(q.ENTER,{name:"stall",progress:q.ENTERED});if(c.isEnabled("mchannel_jumpstart"))R()}function T(U){l.getInstance("channel").log(U.name,U.status||U.progress);if(U.name!=="stall"){clearTimeout(S);S=v(ja,z)}}w.addListener(q.ENTER,T);w.addListener(q.EXIT,T);g.addListener(h.GET_RTI_SESSION_REQUEST,L);b.exports=w}),null);
__d("MTouchChannelManager",["Bootloader","MChannelManager","Stratcom"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k=false;function l(){if(k)return;k=true;i.addListener(i.CHANNEL_MESSAGE,function(m){return h.loadModules(["MTouchChannelPayloadRouter"],function(n){return n.route(m)},"MTouchChannelManager")});j.listen(["m:onload","m:jewels:init-counts"],null,i.startChannel);i.startChannel()}g.initialize=l}),null);
__d("MPresenceIcon",["setTimeoutAcrossTransitions","DOM","MLegacyDataStore","MRequest","MURI","Stratcom"],(function a(b,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();var n=0,o=1,p=2,q;function r(){__p&&__p();var s=i.scry(document.body,"i","presence-icon"),t=[];for(var u=0,v=s.length;u<v;++u){var w=j.get(s[u]);if(w.userid&&!t[w.userid])t[w.userid]=1}var x=new l("/chat/presence_icon.php").toString(),y=new k(x).setData({ids:Object.keys(t)}).setIgnoreErrors(true);y.listen("done",function(z){for(var u=0,v=s.length;u<v;++u){var A=j.get(s[u]);if(A&&A.userid&&m.hasSigil(s[u],"online-icon")&&z[A.userid]==o||m.hasSigil(s[u],"mobile-icon")&&z[A.userid]==p)i.show(s[u]);else i.hide(s[u])}});y.listen("finally",function(z){clearTimeout(q);q=h(r,n)});y.send()}n=n?n*100:6e4;r()}),null);
__d("DeviceBasedLoginRedesignChooserUser",["EventListener","Keys"],(function a(b,c,d,e,f,g,h,i){var j={attachHandlerToElement:function k(l,m){h.listen(l,"click",function(){m.submit()});h.listen(l,"keyup",function(n){if(n.keyCode===i.RETURN)m.submit()})}};f.exports=j}),null);
__d("MExceptionReportingMarauderLogger",["ErrorUtils"],(function a(b,c,d,e,f,g,h){function i(k){e(["MarauderLogger"],function(l){l.log("js_exception",undefined,k);k=null})}function j(k,l,m){i({message:k,context:l,stack_trace:m})}h.addListener(function(k){i(k)});f.exports.log=j}),null);
__d("MPopupSmallCta",["MAnimator","Style","MViewport","ge"],(function a(b,c,d,e,f,g,h,i,j,k){__p&&__p();var l=150,m=1e3,n=214,o={show:function p(q,r,s){this._expandingCta=q;this._ctaUnit=r;this._closeIcon=s;this._ctaVisible=false;this._ctaShownOnce=false;this._ctaClosed=false;window.addEventListener("load",this._init.bind(this))},_init:function p(){__p&&__p();var q=k("header"),r=k("header-notices"),s=k("mobile_login_bar");this._scrollThreshold=0;this._height=n;if(q){i.set(q,"z-index","0");var t=q.clientHeight;if(t)this._scrollThreshold+=t}if(r){i.set(r,"z-index","0");var u=r.clientHeight;if(u)this._scrollThreshold+=u}if(s){var v=s.clientHeight;if(v){this._scrollThreshold+=v;this._height=v}}setInterval(this._updateCTA.bind(this),m);this._closeIcon.addEventListener("click",function(w){this._ctaClosed=true;this._hideCTA()}.bind(this))},_hideCTA:function p(){var q=this._expandingCta.clientHeight;h.play(q,0,l,function(r){return i.set(this._expandingCta,"height",Math.round(r)+"px")}.bind(this));this._ctaVisible=false;clearTimeout(this._timerId)},_showCTA:function p(){if(this._ctaVisible)return;i.set(this._ctaUnit,"margin-top","0px");i.set(this._expandingCta,"background","none");h.play(0,this._height,l,function(q){return i.set(this._expandingCta,"height",Math.round(q)+"px")}.bind(this));this._ctaVisible=true;this._ctaShownOnce=true;clearTimeout(this._timerId)},_updateCTA:function p(){__p&&__p();var q=j.getHeight();if(q<this._height)if(this._ctaVisible)this._hideCTA();else return;var r=this._scrollThreshold;if(!this._ctaVisible&&!this._ctaClosed&&j.getScrollTop()>r)this._showCTA();if(this._ctaVisible&&j.getScrollTop()<r)this._hideCTA()}};f.exports=o}),null);
__d("MTabbable",["MAria","MJSEnvironment","MViewport","isNodeWithinRect"],(function a(b,c,d,e,f,g,h,i,j,k){__p&&__p();function l(o,p){while(o&&o!==p){if(h.isHidden(o))return true;o=o.parentNode}return false}function m(o,p){if(o.offsetHeight===0||o.offsetWidth===0||window.getComputedStyle(o).visibility==="hidden"||parseInt(o.tabIndex,10)<0||l(o,p))return false;if(o.tabIndex>=0)return true;switch(o.tagName){case"A":return o.href&&o.rel!="ignore";case"INPUT":return o.type!="hidden"&&o.type!="file"&&!o.disabled;case"BUTTON":case"SELECT":case"TEXTAREA":return!o.disabled}return false}function n(o){if(!o.getBoundingClientRect)return;var p=i.IS_APPLE_WEBKIT_IOS&&parseFloat(i.OS_VERSION)>=8||i.BROWSER_NAME==="Safari"&&!i.IS_APPLE_WEBKIT_IOS,q=p?o.querySelectorAll("a, button, select, [tabindex]"):o.querySelectorAll("a, button, input, select, textarea, [tabindex]"),r=j.getBoundingRect();for(var s=0,t;t=q[s];s++)if(m(t,o)&&k(t,r)){t.focus();return}}g.focusTabbable=n}),null);
__d("MBackButton",["Stratcom"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=false,j=function j(){if(i)return;i=true;h.listen("click","back-button",function(event){if(history.length>1){event.prevent();history.go(-1)}})};g.main=j}),null);
__d("MobileZeroRewriteURL",["MChannelManager"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=null,j=null;function k(o){__p&&__p();if(!o)return;i=o.regex_matcher;j=o.regex_replacer;for(var p=0;p<i.length;p++){var q=i[p];if(q.indexOf("^")===0)q=q.substr(1);var r=new RegExp(q,"i");i[p]=r}h.setTransform(l)}function l(o){if(!i)return o;m(o);return o}function m(o){if(!o)return;if(Array.isArray(o))for(var p=0;p<o.length;p++)n(o,p);else for(var q in o)if(Object.prototype.hasOwnProperty.call(o,q))n(o,q)}function n(o,p){__p&&__p();var q=o[p],r=typeof q;if(r==="object")m(q);else if(r==="string"&&q.indexOf("<img")>=0){q=q.replace(/<img[^>]*>/gi,function(s){for(var t=0;t<i.length;t++){var u=i[t];if(u.test(s))return s.replace(u,j[t])}return s});o[p]=q}}g.main=k}),null);
__d("XConsentCookieController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/cookie/consent/",{})}),null);
__d("XRefererFrameController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/common/referer_frame.php",{})}),null);
__d("DeferredCookie",["Cookie","Env","SubscriptionList","XAsyncRequest","XConsentCookieController"],(function a(b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();var m=new Map(),n={shouldAddDefaultListener:true,defaultHandler:null,autoFlushCookies:false,sentConsentToServer:false,callbacks:new j(),addToQueue:function o(p,q,r,s,t,u,v){__p&&__p();if(this.autoFlushCookies){if(t)h.setWithoutChecksIfFirstPartyContext(p,q,r,s,v);else h.setWithoutChecks(p,q,r,s,v);return}if(m.has(p))return;m.set(p,{name:p,value:q,nMilliSecs:r,path:s,firstPartyOnly:t,secure:v});if(u)this.addDefaultInteractionListener()},flushAllCookiesWithoutRequestingConsentSeePrivacyXFNBeforeUsing:function o(){delete i.defer_cookies;m.forEach(function(p,q){if(p.firstPartyOnly)h.setWithoutChecksIfFirstPartyContext(p.name,p.value,p.nMilliSecs,p.path,p.secure);else h.setWithoutChecks(p.name,p.value,p.nMilliSecs,p.path,p.secure)});this.callbacks.fireCallbacks();this.autoFlushCookies=true;m=new Map();this.removeDefaultInteractionListener()},flushAllCookies:function o(){this.flushAllCookiesWithoutRequestingConsentSeePrivacyXFNBeforeUsing();if(!this.sentConsentToServer){this.sentConsentToServer=true;var p=l.getURIBuilder().getURI();new k(p).send()}},removeDefaultInteractionListener:function o(){if(this.defaultHandler){if(window.removeEventListener)window.removeEventListener("click",this.defaultHandler,true);else if(document.detachEvent)document.detachEvent("onclick",this.defaultHandler);this.defaultHandler=null}},addDefaultInteractionListener:function o(){if(this.shouldAddDefaultListener){this.shouldAddDefaultListener=false;this.defaultHandler=this.baseInteractionHandler.bind(this);if(window.addEventListener)window.addEventListener("click",this.defaultHandler,true);else if(document.attachEvent)document.attachEvent("onclick",this.defaultHandler)}},registerCallbackOnCookieFlush:function o(p){if(this.autoFlushCookies)p();else this.callbacks.add(p)},baseInteractionHandler:function o(){this.flushAllCookies()},canEmbedThirdPartyPixel:function o(){if(i.no_cookies||i.defer_cookies)return false;return this.autoFlushCookies||m.size===0}};f.exports=n}),null);
__d("isOculusDotComURI",["URI"],(function a(b,c,d,e,f,g,h){var i=new RegExp("(^|\\.)oculus\\.com$","i"),j=["https"];function k(l){if(l.isEmpty()&&l.toString()!=="#")return false;if(!l.getDomain()&&!l.getProtocol())return false;return j.indexOf(l.getProtocol())!==-1&&i.test(l.getDomain())}f.exports=k}),null);
__d("MessagingEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({DELETE:"delete",DELETE_MESSAGES:"delete_messages",DELIVER:"deliver",ERROR:"error",READ:"read",REPORT_SPAM:"report_spam",REPORT_SPAM_MESSAGES:"report_spam_messages",UNMARK_SPAM:"unmark_spam",SUBSCRIBE:"subscribe",CHANGE_MUTE_SETTINGS:"change_mute_settings",TAG:"tag",UNREAD:"unread",UNSUBSCRIBE:"unsubscribe",DELIVER_LOG:"deliver_log",MARK_ALL_READ:"mark_all_read",MARK_ALL_SEEN:"mark_all_seen",MORE_THREADS:"more_threads",READ_ALL:"read_all",READ_RECEIPT:"read_receipt",DELIVERY_RECEIPT:"delivery_receipt",SENT_PUSH:"sent_push",DELIVER_FAST_PAST:"deliver_fast_path",MESSENGER_STATUS:"messenger_status",UPDATE_PINNED_THREADS:"update_pinned_threads",CHANGE_PAGE_THREAD_FLAG:"change_page_thread_flag",CREATE_PAGE_ADMIN_NOTE:"create_page_admin_note",NO_OP:"no_op"})}),null);
__d("ControlledReferer",["Bootloader","DeferredCookie","URI","UserAgent","XRefererFrameController","isBonfireURI","isMessengerDotComURI","isOculusDotComURI","lowerFacebookDomain"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){__p&&__p();var q={useFacebookReferer:function r(s,t,u){__p&&__p();if(!i.canEmbedThirdPartyPixel()){h.loadModules(["BanzaiODS"],function(y){y.bumpEntityKey("defer_cookies","block_controlled_referer_iframe")},"ControlledReferer");return}var v=false;function w(){if(v)return;var y=s.contentWindow.location.pathname;if(y!=="/intern/common/referer_frame.php"&&y!=="/common/referer_frame.php")return;v=true;s.contentWindow.document.body.style.margin=0;t()}var x=void 0;if(n(j.getRequestURI())||m(j.getRequestURI()))x=l.getURIBuilder().getURI().toString();else if(o(j.getRequestURI()))x="/common/referer_frame.php";else if(!p.isValidDocumentDomain())x="/intern/common/referer_frame.php";else if(k.isBrowser("Opera"))x=l.getURIBuilder().getURI().toString();else x=l.getURIBuilder().getURI().qualify().setProtocol("https").setSubdomain("staticxx").toString();if(u)x+="?fb_source="+u;s.onload=w;s.src=x},useFacebookRefererHtml:function r(s,t,u){q.useFacebookReferer(s,function(){s.contentWindow.document.body.innerHTML=t},u)}};f.exports=q}),null);